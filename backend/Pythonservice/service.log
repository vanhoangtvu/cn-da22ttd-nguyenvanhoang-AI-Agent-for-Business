nohup: ignoring input
[0;32mStarting FastAPI Service...[0m
[1;33mInstalling/updating dependencies...[0m
[0;32mStarting FastAPI server with Uvicorn...[0m
[0;32mAPI will be available at:[0m
  - Local: [1;33mhttp://127.0.0.1:5000[0m
  - Swagger UI: [1;33mhttp://127.0.0.1:5000/docs[0m
  - ReDoc: [1;33mhttp://127.0.0.1:5000/redoc[0m

[1;33mPress CTRL+C to stop the server[0m

INFO:     Will watch for changes in these directories: ['/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice']
INFO:     Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
INFO:     Started reloader process [50912] using WatchFiles
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
INFO:     Started server process [50914]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
[GROQ] ‚úì Groq client initialized successfully
INFO:     192.168.1.1:59394 - "GET /docs HTTP/1.1" 200 OK
INFO:     192.168.1.1:59394 - "GET /openapi.json HTTP/1.1" 200 OK
[GROQ] ‚úì Loaded 12 chat models from API
INFO:     127.0.0.1:39696 - "GET /groq/health HTTP/1.1" 200 OK
INFO:     192.168.1.1:33634 - "GET /health/ HTTP/1.1" 200 OK
Failed to send telemetry event CollectionGetEvent: capture() takes 1 positional argument but 3 were given
INFO:     192.168.1.1:33634 - "GET /rag/stats HTTP/1.1" 200 OK
Failed to send telemetry event CollectionGetEvent: capture() takes 1 positional argument but 3 were given
INFO:     192.168.1.1:33634 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:33634 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:33634 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:33634 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     127.0.0.1:54870 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:35396 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:49496 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:41224 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:41224 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:41228 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:41224 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:41224 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:41224 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:41224 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:41224 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     176.65.148.229:38562 - "GET /index.htm HTTP/1.1" 404 Not Found
WARNING:  Invalid HTTP request received.
INFO:     176.65.148.229:38578 - "GET / HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
INFO:     192.168.1.1:51252 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:57682 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:38628 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:38628 - "OPTIONS /gemini/chat/rag/stream HTTP/1.1" 200 OK
INFO:     192.168.1.1:38628 - "POST /gemini/chat/rag/stream HTTP/1.1" 200 OK
Failed to send telemetry event CollectionGetEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionGetEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
[RAG STREAM DEBUG] Received user_id: 5, type: <class 'str'>
[RAG STREAM DEBUG] Users collection has 8 documents
[RAG STREAM DEBUG] Querying with string userId: 5
[RAG STREAM DEBUG] Query results: 1 documents found
[RAG Stream] ‚úì Found user info: Ng∆∞·ªùi d√πng: Nguyen Van Tu (customer@ai.com). Vai tr√≤: CUSTOMER. Tr·∫°ng th√°i: ACTIVE. ƒê·ªãa ch·ªâ: 12 Phan...
INFO:     192.168.1.1:38628 - "OPTIONS /gemini/chat/rag HTTP/1.1" 200 OK
Traceback (most recent call last):
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/routes/gemini.py", line 300, in chat_with_gemini_rag
    response = model.generate_content(full_prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 248, in generate_content
    response = self._client.generate_content(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 566, in generate_content
    response = rpc(
               ^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash
Please retry in 31.717778414s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 20
}
, retry_delay {
  seconds: 31
}
]
[RAG] Received request: message='chao...', model=gemini-2.5-flash, session_id=user_5_session, user_id=5
[RAG DEBUG] Received user_id: 5, type: <class 'str'>
[RAG DEBUG] Users collection has 8 documents
[RAG DEBUG] Querying with string userId: 5
[RAG DEBUG] Query results: 1 documents found
[RAG] ‚úì Found user info: Ng∆∞·ªùi d√πng: Nguyen Van Tu (customer@ai.com). Vai tr√≤: CUSTOMER. Tr·∫°ng th√°i: ACTIVE. ƒê·ªãa ch·ªâ: 12 Phan...
[RAG] ERROR: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash
Please retry in 31.717778414s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 20
}
, retry_delay {
  seconds: 31
}
]
INFO:     192.168.1.1:38628 - "POST /gemini/chat/rag HTTP/1.1" 500 Internal Server Error
INFO:     192.168.1.1:60354 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:58764 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:58764 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:58778 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:58780 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:58778 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:58778 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:58778 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:58778 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:58778 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:37676 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40182 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:57006 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:37820 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39996 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:40008 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:40024 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:40024 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:40040 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40024 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:40024 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:40024 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:40024 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:44320 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:59218 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:59226 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:59240 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:59240 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:59240 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:59240 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:59240 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:59240 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:59248 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:56140 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:56154 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:53038 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:53038 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:52296 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:44000 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:44172 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:44172 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:49550 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:49550 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:36692 - "OPTIONS /gemini/chat/rag/stream HTTP/1.1" 200 OK
INFO:     192.168.1.1:36692 - "POST /gemini/chat/rag/stream HTTP/1.1" 200 OK
[RAG STREAM DEBUG] Received user_id: 5, type: <class 'str'>
[RAG STREAM DEBUG] Users collection has 8 documents
[RAG STREAM DEBUG] Querying with string userId: 5
[RAG STREAM DEBUG] Query results: 1 documents found
[RAG Stream] ‚úì Found user info: Ng∆∞·ªùi d√πng: Nguyen Van Tu (customer@ai.com). Vai tr√≤: CUSTOMER. Tr·∫°ng th√°i: ACTIVE. ƒê·ªãa ch·ªâ: 12 Phan...
INFO:     192.168.1.1:36692 - "OPTIONS /gemini/chat/rag HTTP/1.1" 200 OK
Traceback (most recent call last):
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/routes/gemini.py", line 300, in chat_with_gemini_rag
    response = model.generate_content(full_prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 248, in generate_content
    response = self._client.generate_content(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 566, in generate_content
    response = rpc(
               ^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash
Please retry in 30.002217102s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 20
}
, retry_delay {
  seconds: 30
}
]
[RAG] Received request: message='chao...', model=gemini-2.5-flash, session_id=user_5_session, user_id=5
[RAG DEBUG] Received user_id: 5, type: <class 'str'>
[RAG DEBUG] Users collection has 8 documents
[RAG DEBUG] Querying with string userId: 5
[RAG DEBUG] Query results: 1 documents found
[RAG] ‚úì Found user info: Ng∆∞·ªùi d√πng: Nguyen Van Tu (customer@ai.com). Vai tr√≤: CUSTOMER. Tr·∫°ng th√°i: ACTIVE. ƒê·ªãa ch·ªâ: 12 Phan...
[RAG] ERROR: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 20, model: gemini-2.5-flash
Please retry in 30.002217102s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 20
}
, retry_delay {
  seconds: 30
}
]
INFO:     192.168.1.1:36692 - "POST /gemini/chat/rag HTTP/1.1" 500 Internal Server Error
INFO:     192.168.1.1:57316 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39668 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39674 - "OPTIONS /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39674 - "PUT /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:38362 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:38362 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:55638 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:55650 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:56466 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:37760 - "GET /ai-config/user-config HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'routes/ai_config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [50914]
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
INFO:     Started server process [53398]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'routes/ai_config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [53398]
[GROQ] ‚úì Groq client initialized successfully
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
INFO:     Started server process [53422]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'routes/ai_config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [53422]
[GROQ] ‚úì Groq client initialized successfully
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
INFO:     Started server process [53447]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
[GROQ] ‚úì Groq client initialized successfully
[GROQ] ‚úì Loaded 12 chat models from API
INFO:     192.168.1.1:49752 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:57548 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:54652 - "OPTIONS /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:54652 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43506 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:45910 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:45910 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:50914 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43126 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:43126 - "PUT /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43126 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:43126 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:43126 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43126 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43136 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43126 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:43126 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37724 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:51274 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:51274 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43492 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:60704 - "OPTIONS /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:60704 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:60704 - "OPTIONS /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:60704 - "PUT /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:60508 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:60508 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:60508 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/anonymous HTTP/1.1" 200 OK
INFO:     192.168.1.1:44440 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/anonymous HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/anonymous HTTP/1.1" 200 OK
INFO:     192.168.1.1:44440 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/anonymous HTTP/1.1" 200 OK
INFO:     192.168.1.1:53842 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/anonymous HTTP/1.1" 200 OK
INFO:     192.168.1.1:53842 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:53842 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:53842 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:53842 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/anonymous HTTP/1.1" 200 OK
INFO:     192.168.1.1:36048 - "GET /ai-config/user-preference/anonymous HTTP/1.1" 200 OK
INFO:     192.168.1.1:54878 - "GET /ai-config/user-preference/anonymous HTTP/1.1" 200 OK
INFO:     192.168.1.1:54878 - "GET /ai-config/user-preference/anonymous HTTP/1.1" 200 OK
INFO:     192.168.1.1:54892 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39882 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39882 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39882 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39896 - "OPTIONS /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:39896 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39896 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46614 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39896 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46614 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:60278 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:60278 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:45124 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:55272 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:55272 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:55272 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:55272 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:59622 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:59632 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:59632 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:59634 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:59632 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:59632 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:59634 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:59632 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:59634 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "OPTIONS /gemini/chat/rag/stream HTTP/1.1" 200 OK
INFO:     192.168.1.1:59634 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "POST /gemini/chat/rag/stream HTTP/1.1" 200 OK
Failed to send telemetry event CollectionGetEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionGetEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionGetEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionGetEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
[RAG STREAM DEBUG] Received user_id: 5, type: <class 'str'>
[RAG STREAM DEBUG] Users collection has 8 documents
[RAG STREAM DEBUG] Querying with string userId: 5
[RAG STREAM DEBUG] Query results: 1 documents found
[RAG Stream] ‚úì Found user info: Ng∆∞·ªùi d√πng: Nguyen Van Tu (customer@ai.com). Vai tr√≤: CUSTOMER. Tr·∫°ng th√°i: ACTIVE. ƒê·ªãa ch·ªâ: 12 Phan...
INFO:     192.168.1.1:59634 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "OPTIONS /gemini/chat/rag HTTP/1.1" 200 OK
Traceback (most recent call last):
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/routes/gemini.py", line 300, in chat_with_gemini_rag
    response = model.generate_content(full_prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 248, in generate_content
    response = self._client.generate_content(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 566, in generate_content
    response = rpc(
               ^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
Please retry in 35.410066633s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 35
}
]
[RAG] Received request: message='chao...', model=gemini-2.0-flash, session_id=user_5_session, user_id=5
[RAG DEBUG] Received user_id: 5, type: <class 'str'>
[RAG DEBUG] Users collection has 8 documents
[RAG DEBUG] Querying with string userId: 5
[RAG DEBUG] Query results: 1 documents found
[RAG] ‚úì Found user info: Ng∆∞·ªùi d√πng: Nguyen Van Tu (customer@ai.com). Vai tr√≤: CUSTOMER. Tr·∫°ng th√°i: ACTIVE. ƒê·ªãa ch·ªâ: 12 Phan...
[RAG] ERROR: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
Please retry in 35.410066633s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 35
}
]
INFO:     192.168.1.1:39862 - "POST /gemini/chat/rag HTTP/1.1" 500 Internal Server Error
INFO:     192.168.1.1:59634 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40986 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42378 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:58274 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:52666 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:41692 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:41694 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:41702 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:41702 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:41702 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:41702 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:44474 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "POST /gemini/chat/rag/stream HTTP/1.1" 200 OK
[RAG STREAM DEBUG] Received user_id: 5, type: <class 'str'>
[RAG STREAM DEBUG] Users collection has 8 documents
[RAG STREAM DEBUG] Querying with string userId: 5
[RAG STREAM DEBUG] Query results: 1 documents found
[RAG Stream] ‚úì Found user info: Ng∆∞·ªùi d√πng: Nguyen Van Tu (customer@ai.com). Vai tr√≤: CUSTOMER. Tr·∫°ng th√°i: ACTIVE. ƒê·ªãa ch·ªâ: 12 Phan...
INFO:     192.168.1.1:49872 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:49874 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
Traceback (most recent call last):
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/routes/gemini.py", line 300, in chat_with_gemini_rag
    response = model.generate_content(full_prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 248, in generate_content
    response = self._client.generate_content(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 566, in generate_content
    response = rpc(
               ^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
Please retry in 10.550087775s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 10
}
]
[RAG] Received request: message='chao...', model=gemini-2.0-flash, session_id=user_5_session, user_id=5
[RAG DEBUG] Received user_id: 5, type: <class 'str'>
[RAG DEBUG] Users collection has 8 documents
[RAG DEBUG] Querying with string userId: 5
[RAG DEBUG] Query results: 1 documents found
[RAG] ‚úì Found user info: Ng∆∞·ªùi d√πng: Nguyen Van Tu (customer@ai.com). Vai tr√≤: CUSTOMER. Tr·∫°ng th√°i: ACTIVE. ƒê·ªãa ch·ªâ: 12 Phan...
[RAG] ERROR: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
Please retry in 10.550087775s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 10
}
]
INFO:     192.168.1.1:39862 - "POST /gemini/chat/rag HTTP/1.1" 500 Internal Server Error
INFO:     192.168.1.1:49874 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:44804 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:51070 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:51070 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "POST /gemini/chat/rag/stream HTTP/1.1" 200 OK
[RAG STREAM DEBUG] Received user_id: 5, type: <class 'str'>
[RAG STREAM DEBUG] Users collection has 8 documents
[RAG STREAM DEBUG] Querying with string userId: 5
[RAG STREAM DEBUG] Query results: 1 documents found
[RAG Stream] ‚úì Found user info: Ng∆∞·ªùi d√πng: Nguyen Van Tu (customer@ai.com). Vai tr√≤: CUSTOMER. Tr·∫°ng th√°i: ACTIVE. ƒê·ªãa ch·ªâ: 12 Phan...
INFO:     192.168.1.1:51070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
Traceback (most recent call last):
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/routes/gemini.py", line 300, in chat_with_gemini_rag
    response = model.generate_content(full_prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 248, in generate_content
    response = self._client.generate_content(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 566, in generate_content
    response = rpc(
               ^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
Please retry in 49.342351794s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 49
}
]
[RAG] Received request: message='chao...', model=gemini-2.0-flash, session_id=user_5_session, user_id=5
[RAG DEBUG] Received user_id: 5, type: <class 'str'>
[RAG DEBUG] Users collection has 8 documents
[RAG DEBUG] Querying with string userId: 5
[RAG DEBUG] Query results: 1 documents found
[RAG] ‚úì Found user info: Ng∆∞·ªùi d√πng: Nguyen Van Tu (customer@ai.com). Vai tr√≤: CUSTOMER. Tr·∫°ng th√°i: ACTIVE. ƒê·ªãa ch·ªâ: 12 Phan...
[RAG] ERROR: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
Please retry in 49.342351794s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 49
}
]
INFO:     192.168.1.1:51070 - "POST /gemini/chat/rag HTTP/1.1" 500 Internal Server Error
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:51100 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:51070 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:59228 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:59230 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "POST /gemini/chat/rag/stream HTTP/1.1" 200 OK
[RAG STREAM DEBUG] Received user_id: 5, type: <class 'str'>
[RAG STREAM DEBUG] Users collection has 8 documents
[RAG STREAM DEBUG] Querying with string userId: 5
[RAG STREAM DEBUG] Query results: 1 documents found
[RAG Stream] ‚úì Found user info: Ng∆∞·ªùi d√πng: Nguyen Van Tu (customer@ai.com). Vai tr√≤: CUSTOMER. Tr·∫°ng th√°i: ACTIVE. ƒê·ªãa ch·ªâ: 12 Phan...
INFO:     192.168.1.1:59230 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
Traceback (most recent call last):
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/routes/gemini.py", line 300, in chat_with_gemini_rag
    response = model.generate_content(full_prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 248, in generate_content
    response = self._client.generate_content(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 566, in generate_content
    response = rpc(
               ^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
Please retry in 26.035068768s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 26
}
]
[RAG] Received request: message='chao...', model=gemini-2.0-flash, session_id=user_5_session, user_id=5
[RAG DEBUG] Received user_id: 5, type: <class 'str'>
[RAG DEBUG] Users collection has 8 documents
[RAG DEBUG] Querying with string userId: 5
[RAG DEBUG] Query results: 1 documents found
[RAG] ‚úì Found user info: Ng∆∞·ªùi d√πng: Nguyen Van Tu (customer@ai.com). Vai tr√≤: CUSTOMER. Tr·∫°ng th√°i: ACTIVE. ƒê·ªãa ch·ªâ: 12 Phan...
[RAG] ERROR: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
Please retry in 26.035068768s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 26
}
]
INFO:     192.168.1.1:59230 - "POST /gemini/chat/rag HTTP/1.1" 500 Internal Server Error
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:38058 - "POST /groq/chat HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
[GROQ RAG] Received request: message='ban la ai...', model=llama-3.3-70b-versatile, session_id=string, user_id=string
[GROQ RAG DEBUG] Received user_id: string, type: <class 'str'>
[GROQ RAG DEBUG] Users collection has 8 documents
[GROQ RAG DEBUG] Querying with string userId: string
[GROQ RAG DEBUG] Query results: 0 documents found
[GROQ RAG] ‚úó No user found for user_id: string
[GROQ RAG] Returning 5 product cards
INFO:     192.168.1.1:48476 - "POST /groq/chat/rag HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:51116 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:51124 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39862 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'routes/groq_service.py', 'test_filtered_models.py', 'routes/ai_config.py', 'test_groq_models.py', 'app.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [53447]
Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
INFO:     Started server process [55863]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
[GROQ] ‚úì Groq client initialized successfully
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36716 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37950 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:38518 - "GET /health/ HTTP/1.1" 200 OK
[GROQ] ‚úì Loaded 12 chat models from API
INFO:     192.168.1.1:38534 - "GET /groq/models HTTP/1.1" 200 OK
Failed to send telemetry event CollectionGetEvent: capture() takes 1 positional argument but 3 were given
INFO:     192.168.1.1:38518 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:38546 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:38562 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
Failed to send telemetry event CollectionGetEvent: capture() takes 1 positional argument but 3 were given
INFO:     192.168.1.1:38546 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:38534 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:38546 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:38546 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:38546 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:44336 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:50256 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:50256 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43230 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43262 - "GET /chat-history/all-sessions HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
Failed to send telemetry event CollectionGetEvent: capture() takes 1 positional argument but 3 were given
INFO:     192.168.1.1:43262 - "GET /chat-history/sessions/string HTTP/1.1" 200 OK
INFO:     192.168.1.1:43262 - "OPTIONS /chat-history/sessions/string HTTP/1.1" 200 OK
Failed to send telemetry event CollectionDeleteEvent: capture() takes 1 positional argument but 3 were given
INFO:     192.168.1.1:43262 - "DELETE /chat-history/sessions/string HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43262 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:43262 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:43262 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:43262 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:43262 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:43262 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:43262 - "OPTIONS /chat-history/sessions/user_5_session HTTP/1.1" 200 OK
Failed to send telemetry event CollectionDeleteEvent: capture() takes 1 positional argument but 3 were given
INFO:     192.168.1.1:43262 - "DELETE /chat-history/sessions/user_5_session HTTP/1.1" 200 OK
INFO:     192.168.1.1:43262 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:43262 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:43262 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:43262 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:43262 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:43262 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionGetEvent: capture() takes 1 positional argument but 3 were given
INFO:     192.168.1.1:51654 - "GET /chroma/collection/system_stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:35458 - "OPTIONS /chroma/documents HTTP/1.1" 200 OK
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Add of existing embedding ID: product_1
Add of existing embedding ID: product_2
Add of existing embedding ID: product_3
Add of existing embedding ID: product_4
Add of existing embedding ID: product_5
Add of existing embedding ID: product_6
Add of existing embedding ID: product_7
Add of existing embedding ID: product_8
Add of existing embedding ID: product_9
Add of existing embedding ID: product_10
Add of existing embedding ID: product_11
Add of existing embedding ID: product_12
Add of existing embedding ID: product_13
Add of existing embedding ID: product_14
Add of existing embedding ID: product_15
Add of existing embedding ID: product_16
Add of existing embedding ID: product_17
Add of existing embedding ID: product_18
Add of existing embedding ID: product_19
Add of existing embedding ID: product_20
Add of existing embedding ID: product_21
Add of existing embedding ID: product_22
Add of existing embedding ID: product_23
Add of existing embedding ID: product_24
Add of existing embedding ID: product_25
Add of existing embedding ID: product_26
Add of existing embedding ID: product_27
Add of existing embedding ID: product_28
Add of existing embedding ID: product_29
Add of existing embedding ID: product_30
Add of existing embedding ID: product_31
Insert of existing embedding ID: product_1
Insert of existing embedding ID: product_2
Insert of existing embedding ID: product_3
Insert of existing embedding ID: product_4
Insert of existing embedding ID: product_5
Insert of existing embedding ID: product_6
Insert of existing embedding ID: product_7
Insert of existing embedding ID: product_8
Insert of existing embedding ID: product_9
Insert of existing embedding ID: product_10
Insert of existing embedding ID: product_11
Insert of existing embedding ID: product_12
Insert of existing embedding ID: product_13
Insert of existing embedding ID: product_14
Insert of existing embedding ID: product_15
Insert of existing embedding ID: product_16
Insert of existing embedding ID: product_17
Insert of existing embedding ID: product_18
Insert of existing embedding ID: product_19
Insert of existing embedding ID: product_20
Insert of existing embedding ID: product_21
Insert of existing embedding ID: product_22
Insert of existing embedding ID: product_23
Insert of existing embedding ID: product_24
Insert of existing embedding ID: product_25
Insert of existing embedding ID: product_26
Insert of existing embedding ID: product_27
Insert of existing embedding ID: product_28
Insert of existing embedding ID: product_29
Insert of existing embedding ID: product_30
Insert of existing embedding ID: product_31
Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
INFO:     192.168.1.1:35458 - "POST /chroma/documents HTTP/1.1" 201 Created
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:34834 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Insert of existing embedding ID: order_1
Insert of existing embedding ID: order_2
Insert of existing embedding ID: order_3
Insert of existing embedding ID: order_4
Insert of existing embedding ID: order_5
Insert of existing embedding ID: order_6
Insert of existing embedding ID: order_7
Insert of existing embedding ID: order_8
Insert of existing embedding ID: order_9
Insert of existing embedding ID: order_10
Insert of existing embedding ID: order_11
Insert of existing embedding ID: order_12
Insert of existing embedding ID: order_13
Insert of existing embedding ID: order_14
Insert of existing embedding ID: order_15
Insert of existing embedding ID: order_16
Insert of existing embedding ID: order_17
Insert of existing embedding ID: order_18
Insert of existing embedding ID: order_19
Insert of existing embedding ID: order_20
Add of existing embedding ID: order_1
Add of existing embedding ID: order_2
Add of existing embedding ID: order_3
Add of existing embedding ID: order_4
Add of existing embedding ID: order_5
Add of existing embedding ID: order_6
Add of existing embedding ID: order_7
Add of existing embedding ID: order_8
Add of existing embedding ID: order_9
Add of existing embedding ID: order_10
Add of existing embedding ID: order_11
Add of existing embedding ID: order_12
Add of existing embedding ID: order_13
Add of existing embedding ID: order_14
Add of existing embedding ID: order_15
Add of existing embedding ID: order_16
Add of existing embedding ID: order_17
Add of existing embedding ID: order_18
Add of existing embedding ID: order_19
Add of existing embedding ID: order_20
Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
INFO:     192.168.1.1:35458 - "POST /chroma/documents HTTP/1.1" 201 Created
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Insert of existing embedding ID: business_2
Insert of existing embedding ID: business_3
Insert of existing embedding ID: business_4
Add of existing embedding ID: business_2
Add of existing embedding ID: business_3
Add of existing embedding ID: business_4
Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
INFO:     192.168.1.1:35458 - "POST /chroma/documents HTTP/1.1" 201 Created
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Add of existing embedding ID: user_1
Add of existing embedding ID: user_2
Add of existing embedding ID: user_3
Add of existing embedding ID: user_4
Add of existing embedding ID: user_5
Add of existing embedding ID: user_6
Add of existing embedding ID: user_7
Add of existing embedding ID: user_8
Insert of existing embedding ID: user_1
Insert of existing embedding ID: user_2
Insert of existing embedding ID: user_3
Insert of existing embedding ID: user_4
Insert of existing embedding ID: user_5
Insert of existing embedding ID: user_6
Insert of existing embedding ID: user_7
Insert of existing embedding ID: user_8
Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
INFO:     192.168.1.1:35458 - "POST /chroma/documents HTTP/1.1" 201 Created
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Add of existing embedding ID: category_1
Add of existing embedding ID: category_2
Add of existing embedding ID: category_3
Add of existing embedding ID: category_4
Insert of existing embedding ID: category_1
Insert of existing embedding ID: category_2
Insert of existing embedding ID: category_3
Insert of existing embedding ID: category_4
Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
INFO:     192.168.1.1:35458 - "POST /chroma/documents HTTP/1.1" 201 Created
Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
INFO:     192.168.1.1:35458 - "POST /chroma/documents HTTP/1.1" 201 Created
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:35458 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:35458 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:35458 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:35458 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:35458 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:35458 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:35458 - "OPTIONS /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:35458 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:35458 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:35458 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:41506 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:32836 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46732 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:46732 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:60528 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:54324 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:54338 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:54346 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:54352 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:54346 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:54338 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:54346 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:54346 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:54346 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:54346 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:38424 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "OPTIONS /gemini/chat/rag/stream HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "POST /gemini/chat/rag/stream HTTP/1.1" 200 OK
Failed to send telemetry event CollectionGetEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionQueryEvent: capture() takes 1 positional argument but 3 were given
Failed to send telemetry event CollectionAddEvent: capture() takes 1 positional argument but 3 were given
[RAG STREAM DEBUG] Received user_id: 5, type: <class 'str'>
[RAG STREAM DEBUG] Users collection has 8 documents
[RAG STREAM DEBUG] Querying with string userId: 5
[RAG STREAM DEBUG] Query results: 1 documents found
[RAG Stream] ‚úì Found user info: Ng∆∞·ªùi d√πng: Nguyen Van Tu (customer@ai.com). Vai tr√≤: CUSTOMER. Tr·∫°ng th√°i: ACTIVE. ƒê·ªãa ch·ªâ: 12 Phan...
INFO:     192.168.1.1:58388 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "OPTIONS /gemini/chat/rag HTTP/1.1" 200 OK
Traceback (most recent call last):
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/routes/gemini.py", line 300, in chat_with_gemini_rag
    response = model.generate_content(full_prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 248, in generate_content
    response = self._client.generate_content(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 566, in generate_content
    response = rpc(
               ^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
Please retry in 29.131034507s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 29
}
]
[RAG] Received request: message='chao...', model=gemini-2.0-flash, session_id=user_5_session, user_id=5
[RAG DEBUG] Received user_id: 5, type: <class 'str'>
[RAG DEBUG] Users collection has 8 documents
[RAG DEBUG] Querying with string userId: 5
[RAG DEBUG] Query results: 1 documents found
[RAG] ‚úì Found user info: Ng∆∞·ªùi d√πng: Nguyen Van Tu (customer@ai.com). Vai tr√≤: CUSTOMER. Tr·∫°ng th√°i: ACTIVE. ƒê·ªãa ch·ªâ: 12 Phan...
[RAG] ERROR: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
Please retry in 29.131034507s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 29
}
]
INFO:     192.168.1.1:40884 - "POST /gemini/chat/rag HTTP/1.1" 500 Internal Server Error
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:42036 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:42036 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:42036 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:51056 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:48748 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:55302 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37122 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40884 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:54044 - "OPTIONS /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:54044 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:54044 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:54044 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:54044 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46464 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46348 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:46348 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:46348 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:46348 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:46348 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:46348 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:46452 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:58550 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:58566 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:58580 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:58588 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:58580 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:58588 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:58580 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:58580 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:58580 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:58580 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:58592 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:58592 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:58592 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:58592 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37076 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37076 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:54002 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:52650 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:52658 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:52676 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:52660 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:52688 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:52660 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:52676 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:52660 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:52660 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:52660 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:52660 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:54618 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:54618 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:47422 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:45464 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37070 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42836 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42836 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:47538 - "OPTIONS /gemini/chat/rag/stream HTTP/1.1" 200 OK
INFO:     192.168.1.1:47538 - "POST /gemini/chat/rag/stream HTTP/1.1" 200 OK
[RAG STREAM DEBUG] Received user_id: anonymous, type: <class 'str'>
[RAG STREAM DEBUG] Skipping user query - user_id: anonymous, chroma_client: True
INFO:     192.168.1.1:47538 - "OPTIONS /gemini/chat/rag HTTP/1.1" 200 OK
Traceback (most recent call last):
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/routes/gemini.py", line 300, in chat_with_gemini_rag
    response = model.generate_content(full_prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 248, in generate_content
    response = self._client.generate_content(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 566, in generate_content
    response = rpc(
               ^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
Please retry in 34.750152297s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 34
}
]
[RAG] Received request: message='chao...', model=gemini-2.0-flash, session_id=user_anonymous_session, user_id=anonymous
[RAG DEBUG] Received user_id: anonymous, type: <class 'str'>
[RAG DEBUG] Skipping user query - user_id: anonymous, chroma_client: True
[RAG] ERROR: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
Please retry in 34.750152297s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 34
}
]
INFO:     192.168.1.1:47538 - "POST /gemini/chat/rag HTTP/1.1" 500 Internal Server Error
INFO:     192.168.1.1:55812 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:55814 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:55824 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:55826 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:55842 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:55826 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:55826 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:55826 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:55826 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:55826 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:55826 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:33472 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40434 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40434 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:40434 - "POST /gemini/chat/rag/stream HTTP/1.1" 200 OK
Traceback (most recent call last):
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/routes/gemini.py", line 300, in chat_with_gemini_rag
    response = model.generate_content(full_prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 248, in generate_content
    response = self._client.generate_content(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 566, in generate_content
    response = rpc(
               ^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
Please retry in 58.456721072s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 58
}
]
[RAG STREAM DEBUG] Received user_id: anonymous, type: <class 'str'>
[RAG STREAM DEBUG] Skipping user query - user_id: anonymous, chroma_client: True
[RAG] Received request: message='chao...', model=gemini-2.0-flash, session_id=user_anonymous_session, user_id=anonymous
[RAG DEBUG] Received user_id: anonymous, type: <class 'str'>
[RAG DEBUG] Skipping user query - user_id: anonymous, chroma_client: True
[RAG] ERROR: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
Please retry in 58.456721072s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 58
}
]
INFO:     192.168.1.1:40434 - "POST /gemini/chat/rag HTTP/1.1" 500 Internal Server Error
INFO:     192.168.1.1:58712 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:58714 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:58722 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:58734 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:58744 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:58744 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:58722 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:58744 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:58744 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:58744 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:58744 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:59406 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:48984 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:48984 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:48984 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:48984 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:48984 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:48984 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:48984 - "OPTIONS /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:48984 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:43860 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:43872 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:43882 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:43882 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:43872 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43860 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:43882 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:43882 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:43882 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:43882 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:43860 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43872 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:43882 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:43882 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:43882 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:43882 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:43872 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43860 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:43882 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:43882 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:43882 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:43882 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:43872 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43860 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:43882 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:43882 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:43880 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:43882 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:38540 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:38554 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:38568 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:38576 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:38568 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:38576 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:38568 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:38568 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:38568 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:38568 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:54900 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:54916 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:54930 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:54940 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:54930 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:54940 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:54930 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:54930 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:54930 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:54930 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:54930 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:54940 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:54916 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:54900 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:54930 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:54940 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:54930 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:54940 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:54930 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:54940 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:47012 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:47014 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:47020 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:47026 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:47020 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:47020 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:47020 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:47020 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:47020 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:47020 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "OPTIONS /groq/chat/rag/stream HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "POST /groq/chat/rag/stream HTTP/1.1" 404 Not Found
INFO:     192.168.1.1:42968 - "OPTIONS /groq/chat/rag HTTP/1.1" 200 OK
[GROQ RAG] Received request: message='chao...', model=meta-llama/llama-4-maverick-17b-128e-instruct, session_id=user_anonymous_session, user_id=anonymous
[GROQ RAG DEBUG] Received user_id: anonymous, type: <class 'str'>
[GROQ RAG DEBUG] Skipping user query - user_id: anonymous, chroma_client: True
[GROQ RAG] Returning 5 product cards
INFO:     192.168.1.1:42968 - "POST /groq/chat/rag HTTP/1.1" 200 OK
INFO:     192.168.1.1:40190 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "POST /groq/chat/rag/stream HTTP/1.1" 404 Not Found
[GROQ RAG] Received request: message='ban la ai...', model=meta-llama/llama-4-maverick-17b-128e-instruct, session_id=user_anonymous_session, user_id=anonymous
[GROQ RAG DEBUG] Received user_id: anonymous, type: <class 'str'>
[GROQ RAG DEBUG] Skipping user query - user_id: anonymous, chroma_client: True
[GROQ RAG] Returning 5 product cards
INFO:     192.168.1.1:42968 - "POST /groq/chat/rag HTTP/1.1" 200 OK
INFO:     192.168.1.1:40444 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:57060 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:57070 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:57082 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:57096 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:57096 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:57082 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:57096 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:57096 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:57096 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:57096 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42968 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:48858 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:48872 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:48874 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:48876 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:48874 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:48876 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:48874 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:48874 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:48874 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:48874 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:34726 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:34740 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:34750 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:34754 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:34750 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:34754 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:34750 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:34750 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:34750 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:34750 - "GET /ai-config/config HTTP/1.1" 200 OK
WARNING:  Unsupported upgrade request.
WARNING:  No supported WebSocket library detected. Please use "pip install 'uvicorn[standard]'", or install 'websockets' or 'wsproto' manually.
WARNING:  Invalid HTTP request received.
INFO:     192.168.1.1:41712 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:41718 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:41724 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:41730 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:41724 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:41730 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:41724 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:41724 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:41724 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:41724 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:37468 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:37470 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37472 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:37482 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:37472 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:37472 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:37482 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:37472 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:37472 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:37472 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:59162 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:59168 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:59182 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:59194 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:59182 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:59182 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:59182 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:59182 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:59182 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:59182 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43512 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:42792 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36058 - "OPTIONS /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:36058 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:48340 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "OPTIONS /groq/chat/rag/stream HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "POST /groq/chat/rag/stream HTTP/1.1" 404 Not Found
INFO:     192.168.1.1:43490 - "OPTIONS /groq/chat/rag HTTP/1.1" 200 OK
[GROQ RAG] Received request: message='co iphone 17 ko...', model=meta-llama/llama-4-scout-17b-16e-instruct, session_id=user_anonymous_session, user_id=anonymous
[GROQ RAG DEBUG] Received user_id: anonymous, type: <class 'str'>
[GROQ RAG DEBUG] Skipping user query - user_id: anonymous, chroma_client: True
[GROQ RAG] Returning 5 product cards
INFO:     192.168.1.1:43490 - "POST /groq/chat/rag HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39306 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "POST /groq/chat/rag/stream HTTP/1.1" 404 Not Found
[GROQ RAG] Received request: message='kiem tra xem toi co doon hang nao ko...', model=meta-llama/llama-4-maverick-17b-128e-instruct, session_id=user_anonymous_session, user_id=anonymous
[GROQ RAG DEBUG] Received user_id: anonymous, type: <class 'str'>
[GROQ RAG DEBUG] Skipping user query - user_id: anonymous, chroma_client: True
[GROQ RAG] Returning 5 product cards
INFO:     192.168.1.1:43490 - "POST /groq/chat/rag HTTP/1.1" 200 OK
INFO:     192.168.1.1:49422 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43490 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39568 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39576 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39576 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39568 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "OPTIONS /gemini/chat/rag/stream HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "POST /gemini/chat/rag/stream HTTP/1.1" 200 OK
[RAG STREAM DEBUG] Received user_id: 5, type: <class 'str'>
[RAG STREAM DEBUG] Users collection has 8 documents
[RAG STREAM DEBUG] Querying with string userId: 5
[RAG STREAM DEBUG] Query results: 1 documents found
[RAG Stream] ‚úì Found user info: Ng∆∞·ªùi d√πng: Nguyen Van Tu (customer@ai.com). Vai tr√≤: CUSTOMER. Tr·∫°ng th√°i: ACTIVE. ƒê·ªãa ch·ªâ: 12 Phan...
INFO:     192.168.1.1:54276 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "OPTIONS /gemini/chat/rag HTTP/1.1" 200 OK
Traceback (most recent call last):
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/routes/gemini.py", line 300, in chat_with_gemini_rag
    response = model.generate_content(full_prompt)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 248, in generate_content
    response = self._client.generate_content(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 566, in generate_content
    response = rpc(
               ^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/hv/DuAn/CSN/AI-Agent-for-Business/backend/Pythonservice/venv/lib/python3.12/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
Please retry in 29.832754953s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 29
}
]
[RAG] Received request: message='kiem tra toi co do hang nao ko...', model=gemini-2.0-flash, session_id=user_5_session, user_id=5
[RAG DEBUG] Received user_id: 5, type: <class 'str'>
[RAG DEBUG] Users collection has 8 documents
[RAG DEBUG] Querying with string userId: 5
[RAG DEBUG] Query results: 1 documents found
[RAG] ‚úì Found user info: Ng∆∞·ªùi d√πng: Nguyen Van Tu (customer@ai.com). Vai tr√≤: CUSTOMER. Tr·∫°ng th√°i: ACTIVE. ƒê·ªãa ch·ªâ: 12 Phan...
[RAG] ERROR: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
Please retry in 29.832754953s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 29
}
]
INFO:     192.168.1.1:39556 - "POST /gemini/chat/rag HTTP/1.1" 500 Internal Server Error
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:54208 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:54214 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:34376 - "POST /ai-config/user-preference HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:43986 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:44000 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/5 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:57426 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:59934 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "POST /groq/chat/rag/stream HTTP/1.1" 404 Not Found
[GROQ RAG] Received request: message='chao...', model=meta-llama/llama-4-maverick-17b-128e-instruct, session_id=user_5_session, user_id=5
[GROQ RAG DEBUG] Received user_id: 5, type: <class 'str'>
[GROQ RAG DEBUG] Users collection has 8 documents
[GROQ RAG DEBUG] Querying with string userId: 5
[GROQ RAG DEBUG] Query results: 1 documents found
[GROQ RAG] ‚úì Found user info: Ng∆∞·ªùi d√πng: Nguyen Van Tu (customer@ai.com). Vai tr√≤: CUSTOMER. Tr·∫°ng th√°i: ACTIVE. ƒê·ªãa ch·ªâ: 12 Phan...
[GROQ RAG] Returning 5 product cards
INFO:     192.168.1.1:39556 - "POST /groq/chat/rag HTTP/1.1" 200 OK
INFO:     192.168.1.1:59934 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "POST /groq/chat/rag/stream HTTP/1.1" 404 Not Found
[GROQ RAG] Received request: message='kiem tra xem toi co od hang nao ko...', model=meta-llama/llama-4-maverick-17b-128e-instruct, session_id=user_5_session, user_id=5
[GROQ RAG DEBUG] Received user_id: 5, type: <class 'str'>
[GROQ RAG DEBUG] Users collection has 8 documents
[GROQ RAG DEBUG] Querying with string userId: 5
[GROQ RAG DEBUG] Query results: 1 documents found
[GROQ RAG] ‚úì Found user info: Ng∆∞·ªùi d√πng: Nguyen Van Tu (customer@ai.com). Vai tr√≤: CUSTOMER. Tr·∫°ng th√°i: ACTIVE. ƒê·ªãa ch·ªâ: 12 Phan...
[GROQ RAG] Returning 5 product cards
INFO:     192.168.1.1:39556 - "POST /groq/chat/rag HTTP/1.1" 200 OK
INFO:     192.168.1.1:47474 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:36966 - "GET /ai-config/user-config HTTP/1.1" 200 OK
INFO:     192.168.1.1:36982 - "GET /gemini/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:36998 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:37000 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:37002 - "GET /health/ HTTP/1.1" 200 OK
INFO:     192.168.1.1:36982 - "GET /groq/models HTTP/1.1" 200 OK
INFO:     192.168.1.1:37000 - "GET /rag/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:36982 - "GET /chat-history/stats HTTP/1.1" 200 OK
INFO:     192.168.1.1:36982 - "GET /rag/prompts HTTP/1.1" 200 OK
INFO:     192.168.1.1:36982 - "GET /chroma/collections HTTP/1.1" 200 OK
INFO:     192.168.1.1:36982 - "GET /ai-config/config HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
INFO:     192.168.1.1:39556 - "GET /ai-config/user-preference/1 HTTP/1.1" 200 OK
