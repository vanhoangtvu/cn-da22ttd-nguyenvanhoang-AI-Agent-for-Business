# ğŸ¤– AI Agent for Business

<div align="center">

[![Next.js](https://img.shields.io/badge/Next.js-16.0.6-black.svg)](https://nextjs.org/)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-4.0.0-green.svg)](https://spring.io/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.109.0-teal.svg)](https://fastapi.tiangolo.com/)
[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/)
[![License](https://img.shields.io/badge/License-MIT-purple.svg)](LICENSE)

**ğŸ¯ Há»‡ thá»‘ng AI thÃ´ng minh há»— trá»£ doanh nghiá»‡p trong viá»‡c bÃ¡n hÃ ng, chÄƒm sÃ³c khÃ¡ch hÃ ng, tÆ° váº¥n sáº£n pháº©m vÃ  Ä‘á» xuáº¥t chiáº¿n lÆ°á»£c kinh doanh dá»±a trÃªn dá»¯ liá»‡u ná»™i bá»™**

[ğŸ“– TÃ i Liá»‡u](#-tÃ i-liá»‡u-api) â€¢ [ğŸš€ CÃ i Äáº·t](#-cÃ i-Ä‘áº·t-nhanh) â€¢ [ğŸ—ï¸ Kiáº¿n TrÃºc](#%EF%B8%8F-kiáº¿n-trÃºc-há»‡-thá»‘ng) â€¢ [ğŸ”¥ TÃ­nh NÄƒng](#-tÃ­nh-nÄƒng-chÃ­nh)

---

</div>

## ğŸ“š **ThÃ´ng Tin Äá»“ Ãn**

> **Äá»“ Ãn ChuyÃªn NgÃ nh - Äáº¡i Há»c TrÃ  Vinh**

| | |
|---|---|
| **ğŸ“ Sinh viÃªn thá»±c hiá»‡n** | Nguyá»…n VÄƒn HoÃ ng |
| **ğŸ†” MSSV** | 110122078 |
| **ğŸ« Khoa** | CÃ´ng Nghá»‡ ThÃ´ng Tin |
| **ğŸ›ï¸ TrÆ°á»ng** | Äáº¡i Há»c TrÃ  Vinh |
| **ğŸ‘¨â€ğŸ« GiÃ¡o viÃªn hÆ°á»›ng dáº«n** | ThS. TS. Nguyá»…n Báº£o Ã‚n |
| **ğŸ“§ Email** | nguyenvanhoang@example.com |
| **ğŸ’» GitHub** | [vanhoangtvu](https://github.com/vanhoangtvu) |

---

## ğŸ¯ **Tá»•ng Quan Dá»± Ãn**

**AI Agent for Business** lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ vÃ  há»— trá»£ kinh doanh thÃ´ng minh Ä‘Æ°á»£c xÃ¢y dá»±ng vá»›i kiáº¿n trÃºc microservices hiá»‡n Ä‘áº¡i. Há»‡ thá»‘ng káº¿t há»£p sá»©c máº¡nh cá»§a AI (Google Gemini & Groq) vá»›i cÃ´ng nghá»‡ web tiÃªn tiáº¿n Ä‘á»ƒ cung cáº¥p:

### âœ¨ **TÃ­nh NÄƒng ChÃ­nh**

#### ğŸ›ï¸ **E-commerce Platform**
- ğŸª Cá»­a hÃ ng trá»±c tuyáº¿n vá»›i Ä‘áº§y Ä‘á»§ tÃ­nh nÄƒng
- ğŸ›’ Giá» hÃ ng vÃ  thanh toÃ¡n thÃ´ng minh
- ğŸ“¦ Quáº£n lÃ½ Ä‘Æ¡n hÃ ng real-time
- ğŸ‘¤ Quáº£n lÃ½ tÃ i khoáº£n vÃ  há»“ sÆ¡

#### ğŸ¤– **AI Chat Agent**
- ğŸ’¬ Chatbot AI thÃ´ng minh há»— trá»£ khÃ¡ch hÃ ng 24/7
- ğŸ” TÃ¬m kiáº¿m vÃ  tÆ° váº¥n sáº£n pháº©m báº±ng ngÃ´n ngá»¯ tá»± nhiÃªn
- ğŸ›’ ThÃªm sáº£n pháº©m vÃ o giá» hÃ ng trá»±c tiáº¿p tá»« chat
- ğŸ“Š Hiá»ƒn thá»‹ sáº£n pháº©m vá»›i hÃ¬nh áº£nh trong cuá»™c trÃ² chuyá»‡n
- ğŸ§  TÃ­ch há»£p Google Gemini vÃ  Groq AI

#### ğŸ“Š **Business Analytics Dashboard**
- ğŸ“ˆ PhÃ¢n tÃ­ch kinh doanh vá»›i AI
- ğŸ’¡ Äá» xuáº¥t chiáº¿n lÆ°á»£c thÃ´ng minh
- ğŸ“„ Xá»­ lÃ½ tÃ i liá»‡u tá»± Ä‘á»™ng (PDF, Excel, Word, CSV)
- ğŸ” TÃ¬m kiáº¿m ngá»¯ nghÄ©a vá»›i ChromaDB
- ğŸ“‰ BÃ¡o cÃ¡o doanh thu theo ngÃ y/tuáº§n/thÃ¡ng

#### ğŸ” **PhÃ¢n Quyá»n Äa Cáº¥p**
- ğŸ‘‘ **ADMIN**: Quáº£n lÃ½ toÃ n há»‡ thá»‘ng
- ğŸ¢ **BUSINESS**: Quáº£n lÃ½ sáº£n pháº©m vÃ  bÃ¡o cÃ¡o
- ğŸ‘¥ **CUSTOMER**: Mua sáº¯m vÃ  Ä‘áº·t hÃ ng

---

## ğŸ—ï¸ **Kiáº¿n TrÃºc Há»‡ Thá»‘ng**

### ğŸ“ **Kiáº¿n TrÃºc Tá»•ng Thá»ƒ**

```mermaid
graph TB
    subgraph "ğŸŒ Frontend Layer"
        FE[Next.js 16<br/>Port: 3009]
    end
    
    subgraph "âš™ï¸ Backend Services"
        SPRING[Spring Boot 4.0<br/>Port: 8089<br/>API Gateway]
        PYTHON[Python FastAPI<br/>Port: 5000<br/>AI Service]
    end
    
    subgraph "ğŸ’¾ Data Layer"
        MYSQL[(MySQL 8.0<br/>Business Data)]
        CHROMA[(ChromaDB<br/>Vector DB)]
        REDIS[(Redis<br/>Chat History)]
    end
    
    subgraph "ğŸ¤– AI Services"
        GEMINI[Google Gemini<br/>2.5 Pro/Flash]
        GROQ[Groq AI<br/>Llama 3.1]
    end
    
    FE --> SPRING
    FE --> PYTHON
    SPRING --> MYSQL
    PYTHON --> CHROMA
    PYTHON --> REDIS
    PYTHON --> GEMINI
    PYTHON --> GROQ
    SPRING <-.Sync.-> PYTHON
    
    style FE fill:#61dafb
    style SPRING fill:#6db33f
    style PYTHON fill:#009688
    style MYSQL fill:#4479a1
    style CHROMA fill:#ff6b6b
    style REDIS fill:#dc382d
    style GEMINI fill:#4285f4
    style GROQ fill:#ff6b35
```

### ğŸ”„ **Luá»“ng Dá»¯ Liá»‡u**

```mermaid
sequenceDiagram
    participant U as ğŸ‘¤ User
    participant F as Next.js Frontend
    participant S as Spring Boot
    participant P as Python AI
    participant DB as MySQL
    participant V as ChromaDB
    participant AI as AI Models

    Note over U,AI: ğŸ›ï¸ E-commerce Flow
    U->>F: Browse products
    F->>S: GET /shop/products
    S->>DB: Query products
    DB-->>S: Product data
    S-->>F: Products JSON
    F-->>U: Display products

    Note over U,AI: ğŸ¤– AI Chat Flow
    U->>F: Ask product question
    F->>P: POST /api/groq-chat/send
    P->>V: Vector search products
    V-->>P: Relevant products
    P->>AI: Generate response
    AI-->>P: AI response
    P-->>F: Response + Products
    F-->>U: Display chat

    Note over U,AI: ğŸ“Š Analytics Flow
    S->>P: POST /api/analytics/sync-from-spring
    P->>V: Store vectors
    U->>F: Request analytics
    F->>P: POST /api/analytics/analyze
    P->>V: Query data
    P->>AI: Analyze
    AI-->>P: Insights
    P-->>F: Analytics
```

---

## ğŸ“¦ **Chi Tiáº¿t CÃ¡c Services**

### 1ï¸âƒ£ **Frontend Service (Next.js)**

**ğŸ“ Vá»‹ trÃ­:** `/frontend`  
**ğŸŒ Port:** 3009  
**âš™ï¸ Framework:** Next.js 16.0.6 (App Router)

#### **CÃ´ng Nghá»‡**
- âš›ï¸ **React 19.2.0** - UI framework
- ğŸ¨ **Tailwind CSS 4** - Styling
- ğŸ“ **TypeScript 5** - Type safety
- ğŸ¯ **Lucide React** - Icons
- ğŸ“„ **React Markdown** - Markdown rendering

#### **Cáº¥u TrÃºc ThÆ° Má»¥c**
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # App Router pages
â”‚   â”‚   â”œâ”€â”€ page.tsx           # ğŸ  Homepage
â”‚   â”‚   â”œâ”€â”€ ai-chat/           # ğŸ¤– AI Chat interface
â”‚   â”‚   â”œâ”€â”€ cart/              # ğŸ›’ Shopping cart
â”‚   â”‚   â”œâ”€â”€ checkout/          # ğŸ’³ Checkout page
â”‚   â”‚   â”œâ”€â”€ login/             # ğŸ” Login page
â”‚   â”‚   â”œâ”€â”€ register/          # âœï¸ Register page
â”‚   â”‚   â”œâ”€â”€ profile/           # ğŸ‘¤ User profile
â”‚   â”‚   â”œâ”€â”€ orders/            # ğŸ“¦ Order history
â”‚   â”‚   â””â”€â”€ admin/             # ğŸ‘‘ Admin panel
â”‚   â”‚       â”œâ”€â”€ ai-insights/   # ğŸ“Š AI analytics
â”‚   â”‚       â”œâ”€â”€ ai-agent-chat/ # ğŸ¤– Admin AI chat
â”‚   â”‚       â”œâ”€â”€ products/      # ğŸ“¦ Product management
â”‚   â”‚       â”œâ”€â”€ categories/    # ğŸ·ï¸ Category management
â”‚   â”‚       â”œâ”€â”€ orders/        # ğŸ“‹ Order management
â”‚   â”‚       â””â”€â”€ users/         # ğŸ‘¥ User management
â”‚   â”œâ”€â”€ components/            # Reusable components
â”‚   â”‚   â”œâ”€â”€ Navbar.tsx        # Navigation bar
â”‚   â”‚   â”œâ”€â”€ ProductCard.tsx   # Product display
â”‚   â”‚   â”œâ”€â”€ CartDrawer.tsx    # Cart sidebar
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ lib/                   # API clients
â”‚   â”‚   â””â”€â”€ apiClient.ts      # API integration
â”‚   â”œâ”€â”€ config/                # Configuration
â”‚   â”‚   â””â”€â”€ apiConfig.ts      # API endpoints
â”‚   â””â”€â”€ utils/                 # Utilities
â”‚       â””â”€â”€ authUtils.ts      # Auth helpers
â””â”€â”€ public/                    # Static assets
```

#### **TÃ­nh NÄƒng Pages**

| Page | Route | MÃ´ Táº£ | Auth |
|------|-------|-------|------|
| ğŸ  Homepage | `/` | Landing page, featured products | Public |
| ğŸ¤– AI Chat | `/ai-chat` | AI chatbot interface | Public |
| ğŸ›’ Cart | `/cart` | Shopping cart | Any |
| ğŸ’³ Checkout | `/checkout` | Order checkout | Customer |
| ğŸ” Login | `/login` | User login | Public |
| âœï¸ Register | `/register` | User registration | Public |
| ğŸ‘¤ Profile | `/profile` | User profile | Any |
| ğŸ“¦ Orders | `/orders` | Order history | Customer |
| ğŸ“Š AI Insights | `/admin/ai-insights` | Business analytics | Admin/Business |
| ğŸ¤– Agent Chat | `/admin/ai-agent-chat` | Admin AI chat | Admin/Business |
| ğŸ“¦ Products Admin | `/admin/products` | Product management | Admin/Business |
| ğŸ·ï¸ Categories Admin | `/admin/categories` | Category management | Admin/Business |
| ğŸ“‹ Orders Admin | `/admin/orders` | Order management | Admin/Business |
| ğŸ‘¥ Users Admin | `/admin/users` | User management | Admin/Business |

#### **API Integration**
```typescript
// src/config/apiConfig.ts
export const API_BASE_URL = 'http://localhost:8089/api/v1'
export const PYTHON_API_URL = 'http://localhost:5000'
```

---

### 2ï¸âƒ£ **Python AI Service (FastAPI)**

**ğŸ“ Vá»‹ trÃ­:** `/backend/Pythonservice`  
**ğŸŒ Port:** 5000  
**âš™ï¸ Framework:** FastAPI 0.109.0

#### **CÃ´ng Nghá»‡**
- âš¡ **FastAPI** - Modern async web framework
- ğŸ¤– **Google Gemini** - AI analysis
- ğŸš€ **Groq AI** - Fast inference
- ğŸ’¾ **ChromaDB** - Vector database
- ğŸ”´ **Redis** - Chat history cache
- ğŸ“„ **Document Processing** - PDF, Excel, Word, CSV

#### **Cáº¥u TrÃºc Service**
```
Pythonservice/
â”œâ”€â”€ app.py                      # ğŸš€ Main application
â”œâ”€â”€ requirements.txt            # ğŸ“¦ Dependencies
â”œâ”€â”€ st.sh                       # ğŸ”§ Startup script
â”œâ”€â”€ .env                        # ğŸ” Environment config
â”œâ”€â”€ routes/                     # ğŸ›£ï¸ API Routes
â”‚   â”œâ”€â”€ health.py              # ğŸ¥ Health check
â”‚   â”œâ”€â”€ groq_chat.py           # ğŸ¤– Customer chat
â”‚   â”œâ”€â”€ admin_chat.py          # ğŸ‘‘ Admin chat
â”‚   â”œâ”€â”€ analytics.py           # ğŸ“Š Business analytics
â”‚   â”œâ”€â”€ business_analytics.py  # ğŸ“ˆ Extended analytics
â”‚   â”œâ”€â”€ data_sync.py           # ğŸ”„ Data synchronization
â”‚   â””â”€â”€ agent_actions.py       # ğŸ¯ Agent actions
â”œâ”€â”€ services/                   # ğŸ’¼ Business Logic
â”‚   â”œâ”€â”€ ai_service.py          # ğŸ¤– AI service wrapper
â”‚   â”œâ”€â”€ analytics_rag_service.py    # ğŸ“Š RAG for analytics
â”‚   â”œâ”€â”€ chat_ai_rag_chroma_service.py # ğŸ’¬ Chat RAG
â”‚   â”œâ”€â”€ data_sync_service.py   # ğŸ”„ Sync service
â”‚   â”œâ”€â”€ document_processing_service.py # ğŸ“„ Doc processor
â”‚   â”œâ”€â”€ redis_chat_service.py  # ğŸ”´ Redis cache
â”‚   â”œâ”€â”€ jwt_util.py            # ğŸ” JWT utilities
â”‚   â””â”€â”€ rag_prompt_service.py  # ğŸ“ Prompt templates
â”œâ”€â”€ chroma_analytics/           # ğŸ’¾ Analytics vector DB
â””â”€â”€ chroma_chat_ai/            # ğŸ’¾ Chat vector DB
```

#### **API Endpoints**

##### ğŸ¥ **Health & System**
| Method | Endpoint | MÃ´ Táº£ |
|--------|----------|-------|
| `GET` | `/` | Service info |
| `GET` | `/health/` | Health check |

##### ğŸ¤– **Customer Chat (Groq)**
| Method | Endpoint | MÃ´ Táº£ |
|--------|----------|-------|
| `POST` | `/api/groq-chat/send` | Send chat message |
| `GET` | `/api/groq-chat/history/{session_id}` | Get chat history |
| `POST` | `/api/groq-chat/clear/{session_id}` | Clear history |
| `GET` | `/api/groq-chat/sessions` | List sessions |

##### ğŸ‘‘ **Admin Chat Management**
| Method | Endpoint | MÃ´ Táº£ |
|--------|----------|-------|
| `GET` | `/api/admin/chat/sessions` | List all sessions |
| `GET` | `/api/admin/chat/sessions/{session_id}` | Get session |
| `DELETE` | `/api/admin/chat/sessions/{session_id}` | Delete session |
| `GET` | `/api/admin/chat/stats` | Chat statistics |

##### ğŸ“Š **Business Analytics**
| Method | Endpoint | MÃ´ Táº£ |
|--------|----------|-------|
| `POST` | `/api/analytics/analyze` | AI analysis |
| `POST` | `/api/analytics/data` | Save business data |
| `POST` | `/api/analytics/orders` | Save order analytics |
| `POST` | `/api/analytics/trends` | Save trends |
| `GET` | `/api/analytics/data/all` | Get all data |
| `GET` | `/api/analytics/stats` | Database stats |
| `GET` | `/api/analytics/models` | Available AI models |
| `POST` | `/api/analytics/process-document` | Process document |
| `POST` | `/api/analytics/sync-from-spring` | Sync from Spring |

##### ğŸ¯ **Agent Actions**
| Method | Endpoint | MÃ´ Táº£ |
|--------|----------|-------|
| `POST` | `/api/agent/add-to-cart` | Add to cart |
| `POST` | `/api/agent/view-cart` | View cart |
| `POST` | `/api/agent/search-products` | Search products |

#### **ChromaDB Collections**

| Collection | Má»¥c ÄÃ­ch | Dá»¯ Liá»‡u |
|------------|----------|---------|
| `business_data` | Business analytics | JSON + Metadata |
| `orders_analytics` | Order analysis | Order JSON |
| `business_documents` | Document search | Text + Embeddings |
| `trends` | Business trends | Trend JSON |
| `products` | Product search | Product JSON |
| `orders` | Order data | Order JSON |
| `categories` | Category data | Category JSON |
| `users` | User data | User JSON |

#### **AI Models**

##### Google Gemini
- `gemini-2.5-pro` - 2M tokens context (phÃ¢n tÃ­ch phá»©c táº¡p)
- `gemini-2.5-flash` - 1M tokens (chat nhanh)
- `gemini-1.5-pro` - 2M tokens (analytics)
- `gemini-1.5-flash` - 1M tokens (general)

##### Groq
- `llama-3.1-70b-versatile` - Sá»©c máº¡nh tá»‘i Ä‘a
- `llama-3.1-8b-instant` - Nhanh nháº¥t
- `mixtral-8x7b-32768` - Äa nhiá»‡m

#### **Environment Variables**
```env
# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=5000
SERVER_IP=localhost

# AI API Keys
GOOGLE_API_KEY=your_gemini_api_key
GROQ_API_KEY=your_groq_api_key

# ChromaDB
CHROMA_ANALYTICS_PATH=./chroma_analytics

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
CHAT_HISTORY_TTL=86400

# Spring Service
SPRING_SERVICE_URL=http://localhost:8089/api/v1
```

---

### 3ï¸âƒ£ **Spring Boot Service (Java)**

**ğŸ“ Vá»‹ trÃ­:** `/backend/SpringService`  
**ğŸŒ Port:** 8089  
**âš™ï¸ Framework:** Spring Boot 4.0.0  
**ğŸ“ Base Path:** `/api/v1`

#### **CÃ´ng Nghá»‡**
- â˜• **Java 17** - Programming language
- ğŸŒ± **Spring Boot 4.0** - Application framework
- ğŸ›¡ï¸ **Spring Security** - Security & JWT auth
- ğŸ—ƒï¸ **Spring Data JPA** - ORM (Hibernate)
- ğŸ¬ **MySQL 8.0** - Relational database
- ğŸ“š **Swagger/OpenAPI** - API documentation
- ğŸ” **BCrypt** - Password encryption
- ğŸ« **JWT** - Token authentication

#### **Cáº¥u TrÃºc Service**
```
SpringService/
â”œâ”€â”€ src/main/java/com/business/springservice/
â”‚   â”œâ”€â”€ SpringServiceApplication.java  # ğŸš€ Main app
â”‚   â”œâ”€â”€ config/                        # âš™ï¸ Configuration
â”‚   â”‚   â”œâ”€â”€ SecurityConfig.java       # ğŸ” Security config
â”‚   â”‚   â”œâ”€â”€ DataInitializer.java      # ğŸ“Š Data seeding
â”‚   â”‚   â”œâ”€â”€ CorsConfig.java           # ğŸŒ CORS config
â”‚   â”‚   â””â”€â”€ SwaggerConfig.java        # ğŸ“š API docs config
â”‚   â”œâ”€â”€ controller/                    # ğŸ® REST Controllers
â”‚   â”‚   â”œâ”€â”€ AuthController.java       # ğŸ” Auth endpoints
â”‚   â”‚   â”œâ”€â”€ UserController.java       # ğŸ‘¤ User management
â”‚   â”‚   â”œâ”€â”€ ProfileController.java    # ğŸ‘¤ Profile management
â”‚   â”‚   â”œâ”€â”€ CategoryController.java   # ğŸ·ï¸ Category CRUD
â”‚   â”‚   â”œâ”€â”€ ProductController.java    # ğŸ“¦ Product CRUD
â”‚   â”‚   â”œâ”€â”€ ShopController.java       # ğŸª Public shop
â”‚   â”‚   â”œâ”€â”€ OrderController.java      # ğŸ“‹ Order management
â”‚   â”‚   â”œâ”€â”€ BusinessDocumentController.java # ğŸ“„ Documents
â”‚   â”‚   â””â”€â”€ DashboardController.java  # ğŸ“Š Analytics
â”‚   â”œâ”€â”€ dto/                           # ğŸ“¦ Data Transfer Objects
â”‚   â”‚   â”œâ”€â”€ LoginRequest.java
â”‚   â”‚   â”œâ”€â”€ RegisterRequest.java
â”‚   â”‚   â”œâ”€â”€ ProductDTO.java
â”‚   â”‚   â”œâ”€â”€ OrderDTO.java
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ entity/                        # ğŸ—ƒï¸ JPA Entities
â”‚   â”‚   â”œâ”€â”€ User.java                 # ğŸ‘¤ User entity
â”‚   â”‚   â”œâ”€â”€ Category.java             # ğŸ·ï¸ Category entity
â”‚   â”‚   â”œâ”€â”€ Product.java              # ğŸ“¦ Product entity
â”‚   â”‚   â”œâ”€â”€ Order.java                # ğŸ“‹ Order entity
â”‚   â”‚   â”œâ”€â”€ OrderItem.java            # ğŸ“¦ Order item entity
â”‚   â”‚   â””â”€â”€ BusinessDocument.java     # ğŸ“„ Document entity
â”‚   â”œâ”€â”€ enums/                         # ğŸ“ Enumerations
â”‚   â”‚   â”œâ”€â”€ Role.java                 # ğŸ‘¥ User roles
â”‚   â”‚   â”œâ”€â”€ AccountStatus.java        # ğŸš¦ Account status
â”‚   â”‚   â”œâ”€â”€ OrderStatus.java          # ğŸ“¦ Order status
â”‚   â”‚   â””â”€â”€ Status.java               # ğŸ”„ General status
â”‚   â”œâ”€â”€ repository/                    # ğŸ—„ï¸ Data Repositories
â”‚   â”‚   â”œâ”€â”€ UserRepository.java
â”‚   â”‚   â”œâ”€â”€ CategoryRepository.java
â”‚   â”‚   â”œâ”€â”€ ProductRepository.java
â”‚   â”‚   â”œâ”€â”€ OrderRepository.java
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ security/                      # ğŸ” Security
â”‚   â”‚   â”œâ”€â”€ JwtUtil.java              # JWT utilities
â”‚   â”‚   â”œâ”€â”€ JwtAuthenticationFilter.java # JWT filter
â”‚   â”‚   â””â”€â”€ RoleAuthorizationFilter.java # Role filter
â”‚   â””â”€â”€ service/                       # ğŸ’¼ Business Services
â”‚       â”œâ”€â”€ AuthService.java
â”‚       â”œâ”€â”€ UserService.java
â”‚       â”œâ”€â”€ CategoryService.java
â”‚       â”œâ”€â”€ ProductService.java
â”‚       â”œâ”€â”€ OrderService.java
â”‚       â””â”€â”€ ...
â”œâ”€â”€ src/main/resources/
â”‚   â””â”€â”€ application.yml                # ğŸ“ Configuration
â””â”€â”€ pom.xml                            # ğŸ“¦ Maven dependencies
```

#### **Database Configuration**
```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/AI_Agent_db
    username: root
    password: 1111
  jpa:
    hibernate:
      ddl-auto: create  # Recreate DB on restart
    show-sql: true
server:
  port: 8089
  servlet:
    context-path: /api/v1
```

#### **API Endpoints**

##### ğŸ” **Authentication (Public)**
| Method | Endpoint | MÃ´ Táº£ |
|--------|----------|-------|
| `POST` | `/auth/register` | ÄÄƒng kÃ½ tÃ i khoáº£n |
| `POST` | `/auth/login` | ÄÄƒng nháº­p |

##### ğŸ‘¤ **User Management (Admin/Business)**
| Method | Endpoint | MÃ´ Táº£ |
|--------|----------|-------|
| `GET` | `/users` | Danh sÃ¡ch users |
| `GET` | `/users/{id}` | Chi tiáº¿t user |
| `POST` | `/users` | Táº¡o user má»›i |
| `PATCH` | `/users/{id}` | Cáº­p nháº­t user |
| `PATCH` | `/users/{id}/status?status=ACTIVE` | Äá»•i tráº¡ng thÃ¡i |
| `DELETE` | `/users/{id}` | XÃ³a user |

##### ğŸ‘¤ **Profile Management (All)**
| Method | Endpoint | MÃ´ Táº£ |
|--------|----------|-------|
| `GET` | `/profile` | Xem profile |
| `PATCH` | `/profile` | Cáº­p nháº­t profile |
| `POST` | `/profile/change-password` | Äá»•i máº­t kháº©u |

##### ğŸª **Shop (Public)**
| Method | Endpoint | MÃ´ Táº£ |
|--------|----------|-------|
| `GET` | `/shop/products` | Táº¥t cáº£ sáº£n pháº©m |
| `GET` | `/shop/products/{id}` | Chi tiáº¿t sáº£n pháº©m |
| `GET` | `/shop/categories` | Táº¥t cáº£ danh má»¥c |
| `GET` | `/shop/categories/{id}` | Chi tiáº¿t danh má»¥c |
| `GET` | `/shop/products/category/{categoryId}` | Sáº£n pháº©m theo danh má»¥c |
| `GET` | `/shop/products/search?keyword={keyword}` | TÃ¬m kiáº¿m sáº£n pháº©m |

##### ğŸ·ï¸ **Category Management (Admin/Business)**
| Method | Endpoint | MÃ´ Táº£ |
|--------|----------|-------|
| `GET` | `/admin/categories` | Táº¥t cáº£ categories |
| `GET` | `/admin/categories/{id}` | Chi tiáº¿t category |
| `POST` | `/admin/categories` | Táº¡o category |
| `PATCH` | `/admin/categories/{id}` | Cáº­p nháº­t category |
| `PATCH` | `/admin/categories/{id}/status?status=ACTIVE` | Äá»•i tráº¡ng thÃ¡i |
| `DELETE` | `/admin/categories/{id}` | XÃ³a category |

##### ğŸ“¦ **Product Management (Admin/Business)**
| Method | Endpoint | MÃ´ Táº£ |
|--------|----------|-------|
| `GET` | `/admin/products` | Táº¥t cáº£ products |
| `GET` | `/admin/products/{id}` | Chi tiáº¿t product |
| `GET` | `/admin/products/category/{categoryId}` | Products theo category |
| `GET` | `/admin/products/seller/{sellerId}` | Products cá»§a seller |
| `GET` | `/admin/products/search?keyword={keyword}` | TÃ¬m kiáº¿m products |
| `POST` | `/admin/products` | Táº¡o product |
| `PATCH` | `/admin/products/{id}` | Cáº­p nháº­t product |
| `PATCH` | `/admin/products/{id}/status?status=ACTIVE` | Äá»•i tráº¡ng thÃ¡i |
| `DELETE` | `/admin/products/{id}` | XÃ³a product |

##### ğŸ“‹ **Orders (Customer)**
| Method | Endpoint | MÃ´ Táº£ |
|--------|----------|-------|
| `POST` | `/orders` | Táº¡o Ä‘Æ¡n hÃ ng |
| `GET` | `/orders/my-orders` | Lá»‹ch sá»­ Ä‘Æ¡n hÃ ng |
| `GET` | `/orders/{id}` | Chi tiáº¿t Ä‘Æ¡n hÃ ng |
| `POST` | `/orders/{id}/cancel` | Há»§y Ä‘Æ¡n hÃ ng |
| `PATCH` | `/orders/{id}/address` | Cáº­p nháº­t Ä‘á»‹a chá»‰ |

##### ğŸ“‹ **Order Management (Admin/Business)**
| Method | Endpoint | MÃ´ TÃ£ |
|--------|----------|-------|
| `GET` | `/admin/orders` | Táº¥t cáº£ orders |
| `GET` | `/admin/orders/{id}` | Chi tiáº¿t order |
| `GET` | `/admin/orders/customer/{customerId}` | Orders cá»§a customer |
| `GET` | `/admin/orders/status/{status}` | Orders theo status |
| `PATCH` | `/admin/orders/{id}/status?status=CONFIRMED` | Cáº­p nháº­t status |

##### ğŸ“„ **Business Documents (Business)**
| Method | Endpoint | MÃ´ Táº£ |
|--------|----------|-------|
| `POST` | `/admin/business-documents` | Upload tÃ i liá»‡u |
| `GET` | `/admin/business-documents/my-documents` | TÃ i liá»‡u cá»§a mÃ¬nh |
| `GET` | `/admin/business-documents/{id}` | Chi tiáº¿t tÃ i liá»‡u |
| `GET` | `/admin/business-documents/business/{businessId}` | TÃ i liá»‡u cá»§a business |
| `DELETE` | `/admin/business-documents/{id}` | XÃ³a tÃ i liá»‡u |

##### ğŸ“Š **Dashboard & Reports**
| Method | Endpoint | MÃ´ Táº£ |
|--------|----------|-------|
| `GET` | `/admin/dashboard/admin-stats` | Thá»‘ng kÃª toÃ n há»‡ thá»‘ng |
| `GET` | `/admin/dashboard/business-stats` | Thá»‘ng kÃª business |
| `GET` | `/admin/dashboard/revenue/daily?days=7` | Doanh thu theo ngÃ y |
| `GET` | `/admin/dashboard/revenue/weekly?weeks=4` | Doanh thu theo tuáº§n |
| `GET` | `/admin/dashboard/revenue/monthly?months=6` | Doanh thu theo thÃ¡ng |
| `GET` | `/admin/dashboard/admin/revenue/daily?days=7` | Doanh thu há»‡ thá»‘ng/ngÃ y |
| `GET` | `/admin/dashboard/admin/revenue/weekly?weeks=4` | Doanh thu há»‡ thá»‘ng/tuáº§n |
| `GET` | `/admin/dashboard/admin/revenue/monthly?months=6` | Doanh thu há»‡ thá»‘ng/thÃ¡ng |

#### **Database Schema**

##### **Users**
```sql
id, username, email, password (BCrypt), role (ADMIN/BUSINESS/CUSTOMER),
accountStatus (ACTIVE/INACTIVE/SUSPENDED/BANNED), address, phoneNumber,
createdAt, updatedAt
```

##### **Categories**
```sql
id, name, description, imageUrl, status (ACTIVE/INACTIVE),
createdAt, updatedAt
```

##### **Products**
```sql
id, name, description, price, quantity, imageUrls (JSON),
categoryId, sellerId, status (ACTIVE/INACTIVE), createdAt, updatedAt
```

##### **Orders**
```sql
id, customerId, customerName, customerEmail, customerPhone,
shippingAddress, totalAmount, status (PENDING/CONFIRMED/PROCESSING/
SHIPPING/DELIVERED/CANCELLED/RETURNED), note, createdAt, updatedAt
```

##### **OrderItems**
```sql
id, orderId, productId, productName, productPrice, quantity, subtotal
```

##### **BusinessDocuments**
```sql
id, businessId, fileName, fileType, filePath, fileSize,
description, uploadedAt
```

#### **Security & Authentication**

##### JWT Token
Táº¥t cáº£ API (trá»« Public) yÃªu cáº§u JWT token:
```
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

##### Filter Chain
1. **JwtAuthenticationFilter** - XÃ¡c thá»±c JWT token
2. **RoleAuthorizationFilter** - Kiá»ƒm tra role

##### Default Users
```
Admin:     admin@ai.com     / hoang123 (ADMIN)
Business:  business@ai.com  / hoang123 (BUSINESS)
Customer:  customer@ai.com  / hoang123 (CUSTOMER)
```

---

## ğŸš€ **CÃ i Äáº·t Nhanh**

### ğŸ“‹ **YÃªu Cáº§u Há»‡ Thá»‘ng**

- â˜• **Java 17** (Spring Service)
- ğŸ **Python 3.8+** (Python Service)
- ğŸ“¦ **Node.js 18+** & npm (Frontend)
- ğŸ¬ **MySQL 8.0+** (Database)
- ğŸ”´ **Redis** (Optional - Chat history)
- ğŸ”‘ **API Keys**: Google Gemini, Groq

### ğŸ”§ **CÃ i Äáº·t Chi Tiáº¿t**

#### **1. Clone Repository**
```bash
git clone https://github.com/vanhoangtvu/AI-Agent-for-Business.git
cd AI-Agent-for-Business
```

#### **2. CÃ i Äáº·t MySQL Database**
```bash
# Táº¡o database
mysql -u root -p1111 -e "CREATE DATABASE AI_Agent_db;"
```

#### **3. CÃ i Äáº·t Redis (Optional)**
```bash
# Ubuntu/Debian
sudo apt install redis-server
sudo systemctl start redis

# macOS
brew install redis
brew services start redis
```

#### **4. Spring Boot Service**
```bash
cd backend/SpringService

# Chá»‰nh sá»­a application.yml náº¿u cáº§n
# spring.datasource.password: your_mysql_password

# Cháº¡y service
mvn spring-boot:run

# Server cháº¡y táº¡i: http://localhost:8089/api/v1
# Swagger UI: http://localhost:8089/api/v1/swagger-ui.html
```

#### **5. Python AI Service**
```bash
cd backend/Pythonservice

# Táº¡o vÃ  cáº¥u hÃ¬nh .env
cp .env.example .env

# Chá»‰nh sá»­a .env vá»›i API keys cá»§a báº¡n
# GOOGLE_API_KEY=your_gemini_key
# GROQ_API_KEY=your_groq_key

# Cháº¡y service (script tá»± Ä‘á»™ng táº¡o venv vÃ  cÃ i dependencies)
chmod +x st.sh
./st.sh

# Server cháº¡y táº¡i: http://localhost:5000
# API Docs: http://localhost:5000/docs
```

#### **6. Frontend (Next.js)**
```bash
cd frontend

# Táº¡o .env.local náº¿u cáº§n
cp .env.example .env.local

# CÃ i dependencies
npm install

# Cháº¡y development server
npm run dev

# Frontend cháº¡y táº¡i: http://localhost:3009
```

### âœ… **Kiá»ƒm Tra Services**

```bash
# Spring Boot
curl http://localhost:8089/api/v1/shop/products

# Python AI
curl http://localhost:5000/health/

# Frontend
open http://localhost:3009
```

---

## ğŸ¯ **HÆ°á»›ng Dáº«n Sá»­ Dá»¥ng**

### ğŸ‘¤ **Äá»‘i Vá»›i KhÃ¡ch HÃ ng (CUSTOMER)**

1. **ğŸ  Duyá»‡t Sáº£n Pháº©m**
   - Truy cáº­p http://localhost:3009
   - Xem danh sÃ¡ch sáº£n pháº©m
   - TÃ¬m kiáº¿m, lá»c theo danh má»¥c

2. **ğŸ¤– Chat Vá»›i AI Agent**
   - Click "Agent Chat" trÃªn navbar
   - Há»i vá» sáº£n pháº©m: "Cho tÃ´i xem smartphone giÃ¡ dÆ°á»›i 10 triá»‡u"
   - AI sáº½ hiá»ƒn thá»‹ sáº£n pháº©m vá»›i hÃ¬nh áº£nh
   - Click "ThÃªm vÃ o giá»" Ä‘á»ƒ thÃªm sáº£n pháº©m

3. **ğŸ›’ Mua HÃ ng**
   - ThÃªm sáº£n pháº©m vÃ o giá» hÃ ng
   - Xem giá» hÃ ng
   - Tiáº¿n hÃ nh checkout
   - Xem lá»‹ch sá»­ Ä‘Æ¡n hÃ ng táº¡i `/orders`

### ğŸ‘‘ **Äá»‘i Vá»›i Admin/Business**

1. **ğŸ“Š Quáº£n LÃ½ Sáº£n Pháº©m**
   - ÄÄƒng nháº­p: admin@ai.com / hoang123
   - Truy cáº­p `/admin/products`
   - ThÃªm/sá»­a/xÃ³a sáº£n pháº©m

2. **ğŸ“ˆ PhÃ¢n TÃ­ch AI**
   - Truy cáº­p `/admin/ai-insights`
   - Há»i AI: "PhÃ¢n tÃ­ch doanh thu thÃ¡ng nÃ y"
   - Upload tÃ i liá»‡u Ä‘á»ƒ AI phÃ¢n tÃ­ch

3. **ğŸ“‹ Quáº£n LÃ½ ÄÆ¡n HÃ ng**
   - Truy cáº­p `/admin/orders`
   - Cáº­p nháº­t tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng
   - Xem thá»‘ng kÃª

---

## ğŸ“– **TÃ i Liá»‡u API**

### **Swagger/OpenAPI Documentation**

- **Spring Boot API**: http://localhost:8089/api/v1/swagger-ui.html
- **Python AI API**: http://localhost:5000/docs
- **Python ReDoc**: http://localhost:5000/redoc

### **Postman Collection**

Xem chi tiáº¿t trong cÃ¡c file README cá»§a tá»«ng service:
- [Frontend README](frontend/README.md)
- [Python Service README](backend/Pythonservice/README.md)
- [Spring Service README](backend/SpringService/README.md)

---

## ğŸ› ï¸ **Technology Stack**

### **Frontend**
- âš›ï¸ Next.js 16.0.6 (React 19.2.0)
- ğŸ¨ Tailwind CSS 4
- ğŸ“ TypeScript 5
- ğŸ¯ Lucide Icons
- ğŸ“„ React Markdown

### **Backend - Spring Boot**
- â˜• Java 17
- ğŸŒ± Spring Boot 4.0.0
- ğŸ—ƒï¸ Spring Data JPA (Hibernate)
- ğŸ” Spring Security + JWT
- ğŸ¬ MySQL 8.0
- ğŸ“š Swagger/OpenAPI 3

### **Backend - Python AI**
- ğŸ Python 3.8+
- âš¡ FastAPI 0.109.0
- ğŸ¤– Google Gemini AI
- ğŸš€ Groq AI (Llama 3.1)
- ğŸ’¾ ChromaDB 0.4.22
- ğŸ”´ Redis 5.0.1
- ğŸ“„ PyPDF2, python-docx, pandas, openpyxl

### **Database & Cache**
- ğŸ¬ MySQL 8.0 (Relational DB)
- ğŸ’¾ ChromaDB (Vector DB)
- ğŸ”´ Redis (Cache)

---

## ğŸŒŸ **TÃ­nh NÄƒng Ná»•i Báº­t**

### ğŸ¤– **AI Chat Agent**
- TrÃ² chuyá»‡n tá»± nhiÃªn báº±ng tiáº¿ng Viá»‡t
- TÃ¬m kiáº¿m sáº£n pháº©m thÃ´ng minh
- Hiá»ƒn thá»‹ sáº£n pháº©m vá»›i hÃ¬nh áº£nh trong chat
- ThÃªm vÃ o giá» hÃ ng trá»±c tiáº¿p tá»« chat
- LÆ°u lá»‹ch sá»­ trÃ² chuyá»‡n vá»›i Redis

### ğŸ“Š **Business Analytics**
- PhÃ¢n tÃ­ch dá»¯ liá»‡u vá»›i AI
- Xá»­ lÃ½ tÃ i liá»‡u tá»± Ä‘á»™ng
- Vector search vá»›i ChromaDB
- BÃ¡o cÃ¡o doanh thu chi tiáº¿t
- Äá» xuáº¥t chiáº¿n lÆ°á»£c kinh doanh

### ğŸ›ï¸ **E-commerce**
- Quáº£n lÃ½ sáº£n pháº©m Ä‘a cáº¥p
- Giá» hÃ ng thÃ´ng minh
- Checkout Ä‘Æ¡n giáº£n
- Theo dÃµi Ä‘Æ¡n hÃ ng
- PhÃ¢n quyá»n Ä‘a cáº¥p

### ğŸ” **Security**
- JWT Authentication
- Role-based Access Control (RBAC)
- BCrypt password encryption
- Secure API endpoints

---

## ğŸ”§ **Environment Variables**

### **Python Service (.env)**
```env
# Server
SERVER_HOST=0.0.0.0
SERVER_PORT=5000
SERVER_IP=localhost

# AI Keys
GOOGLE_API_KEY=your_gemini_api_key
GROQ_API_KEY=your_groq_api_key

# ChromaDB
CHROMA_ANALYTICS_PATH=./chroma_analytics

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
CHAT_HISTORY_TTL=86400

# Spring Service
SPRING_SERVICE_URL=http://localhost:8089/api/v1
```

### **Spring Service (application.yml)**
```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/AI_Agent_db
    username: root
    password: 1111
server:
  port: 8089
  servlet:
    context-path: /api/v1
```

### **Frontend (.env.local)**
```env
NEXT_PUBLIC_API_URL=http://localhost:8089/api/v1
NEXT_PUBLIC_PYTHON_API_URL=http://localhost:5000
```

---

## ğŸ› **Kháº¯c Phá»¥c Sá»± Cá»‘**

### **Lá»—i Káº¿t Ná»‘i Database**
```bash
# Kiá»ƒm tra MySQL Ä‘ang cháº¡y
sudo systemctl status mysql

# Kiá»ƒm tra database tá»“n táº¡i
mysql -u root -p1111 -e "SHOW DATABASES;"
```

### **Lá»—i API Key**
```bash
# Kiá»ƒm tra .env file
cat backend/Pythonservice/.env | grep API_KEY

# Test Gemini API
curl -H "Authorization: Bearer $GOOGLE_API_KEY" \
     https://generativelanguage.googleapis.com/v1/models
```

### **Lá»—i Port ÄÃ£ ÄÆ°á»£c Sá»­ Dá»¥ng**
```bash
# TÃ¬m process sá»­ dá»¥ng port
lsof -i :8089  # Spring Boot
lsof -i :5000  # Python
lsof -i :3009  # Frontend

# Kill process
kill -9 <PID>
```

### **Chrome DB Issues**
```bash
# Reset ChromaDB
rm -rf backend/Pythonservice/chroma_analytics
rm -rf backend/Pythonservice/chroma_chat_ai

# Restart Python service
cd backend/Pythonservice
./st.sh
```

---

## ğŸ“ **Notes**

- ğŸ”„ Database sá»­ dá»¥ng `ddl-auto: create` - táº¡o má»›i má»—i láº§n khá»Ÿi Ä‘á»™ng Spring Boot
- ğŸ“ File upload lÆ°u táº¡i `backend/SpringService/uploads/documents/`
- ğŸ¯ Sáº£n pháº©m ACTIVE hiá»ƒn thá»‹ á»Ÿ `/shop/*`, táº¥t cáº£ hiá»ƒn thá»‹ á»Ÿ `/admin/*`
- ğŸ›’ Customer chá»‰ há»§y order khi status lÃ  PENDING hoáº·c CONFIRMED
- ğŸ”´ Redis lÃ  optional - náº¿u khÃ´ng cÃ³, chat history khÃ´ng Ä‘Æ°á»£c lÆ°u lÃ¢u dÃ i

---

## ğŸ“„ **License**

Copyright Â© 2025 Nguyá»…n VÄƒn HoÃ ng - Äáº¡i Há»c TrÃ  Vinh

---

## ğŸ“ **LiÃªn Há»‡**

- **ğŸ“§ Email**: nguyenvanhoang@example.com
- **ğŸ’» GitHub**: [@vanhoangtvu](https://github.com/vanhoangtvu)
- **ğŸ« TrÆ°á»ng**: Äáº¡i Há»c TrÃ  Vinh
- **ğŸ‘¨â€ğŸ« Giáº£ng viÃªn**: ThS. TS. Nguyá»…n Báº£o Ã‚n

---

<div align="center">

**â­ Náº¿u project nÃ y há»¯u Ã­ch, hÃ£y cho má»™t star! â­**

**Cáº­p nháº­t láº§n cuá»‘i**: ThÃ¡ng 12/2025

Made with â¤ï¸ by Nguyá»…n VÄƒn HoÃ ng

</div>
